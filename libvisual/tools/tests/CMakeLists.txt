INCLUDE_DIRECTORIES(
  ${PROJECT_SOURCE_DIR}
  ${PROJECT_BINARY_DIR}
  ${CMAKE_CURRENT_SOURCE_DIR}
  ${CMAKE_CURRENT_BINARY_DIR}
  ${SDL_INCLUDE_DIR}
)

IF(SDL_FOUND)
  SET(TEST_PROGRAMS
    blit_rectangle_test.cpp
    scale_test.c
  )

  FOREACH(TEST IN LISTS TEST_PROGRAMS)
    GET_FILENAME_COMPONENT(EXECUTABLE ${TEST} NAME_WE)
    ADD_EXECUTABLE(${EXECUTABLE} ${TEST})
    TARGET_LINK_LIBRARIES(${EXECUTABLE} libvisual ${SDL_LIBRARY})
  ENDFOREACH()
ENDIF()
